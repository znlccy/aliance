(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70a1"],{"3f4c":function(t,e,l){"use strict";l.d(e,"a",function(){return o});var i=l("c665"),a=l("dc0a"),s=l("aa9a"),r=l("d328"),n=l("11d9"),c=l("b8d7"),u=l("4a2d"),o=function(t){function e(){return Object(i["a"])(this,e),Object(r["a"])(this,Object(n["a"])(e).apply(this,arguments))}return Object(s["a"])(e,null,[{key:"entry",value:function(t,l,i){Object(c["a"])(Object(n["a"])(e),"request",this).call(this,this.uri()+"entry",l,i,t)}},{key:"save",value:function(t,l,i){Object(c["a"])(Object(n["a"])(e),"request",this).call(this,this.uri()+"save",l,i,t)}},{key:"applyList",value:function(t,l,i){Object(c["a"])(Object(n["a"])(e),"request",this).call(this,this.uri()+"apply_entry",l,i,t)}},{key:"detail",value:function(t,l,i){Object(c["a"])(Object(n["a"])(e),"request",this).call(this,this.uri()+"detail",l,i,t)}},{key:"delete",value:function(t,l,i){Object(c["a"])(Object(n["a"])(e),"request",this).call(this,this.uri()+"delete",l,i,t)}},{key:"check",value:function(t,l,i){Object(c["a"])(Object(n["a"])(e),"request",this).call(this,this.uri()+"auditor",l,i,t)}},{key:"uri",value:function(){return Object(c["a"])(Object(n["a"])(e),"url",this).call(this)+"activity/"}}]),Object(a["a"])(e,t),e}(u["a"])},"4a92":function(t,e,l){},da1c:function(t,e,l){"use strict";l.r(e);var i=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"page"},[l("div",[l("el-row",{staticClass:"header"},[l("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v("规则编号:")]),l("el-col",{attrs:{span:4}},[l("el-input",{staticClass:"filter-match",attrs:{placeholder:"请输入"},model:{value:t.filter.id,callback:function(e){t.$set(t.filter,"id",e)},expression:"filter.id"}})],1),l("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v(" 状态:")]),l("el-col",{attrs:{span:4}},[l("el-select",{staticClass:"filter-match",attrs:{placeholder:"请选择"},model:{value:t.filter.status,callback:function(e){t.$set(t.filter,"status",e)},expression:"filter.status"}},t._l(t.statusOptions,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),l("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v(" 活动名称:")]),l("el-col",{attrs:{span:4}},[l("el-input",{staticClass:"filter-match",attrs:{placeholder:"请输入"},model:{value:t.filter.title,callback:function(e){t.$set(t.filter,"title",e)},expression:"filter.title"}})],1),l("el-col",{staticClass:"filter-btn",attrs:{span:6}},[l("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(e){t.loadData(1)}}},[t._v("查询")]),l("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){t.ref()}}},[t._v("重置")]),l("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.add}},[t._v("新建")])],1)],1),l("el-row",{staticClass:"filter"},[l("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v(" 人数范围:")]),l("el-col",{attrs:{span:4}},[l("el-input",{staticClass:"num-input",attrs:{placeholder:"请输入"},model:{value:t.filter.min_register,callback:function(e){t.$set(t.filter,"min_register",e)},expression:"filter.min_register"}}),l("div",{staticStyle:{display:"inline-block",width:"20%","text-align":"center"}},[t._v("～")]),l("el-input",{staticClass:"num-input",attrs:{placeholder:"请输入"},model:{value:t.filter.max_register,callback:function(e){t.$set(t.filter,"max_register",e)},expression:"filter.max_register"}})],1),l("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v(" 活动时间:")]),l("el-col",{attrs:{span:4}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetimerange","range-separator":"~","start-placeholder":"开始","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd","end-placeholder":"结束"},model:{value:t.filter.active_time,callback:function(e){t.$set(t.filter,"active_time",e)},expression:"filter.active_time"}})],1),l("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v(" 报名时间:")]),l("el-col",{attrs:{span:4}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetimerange","range-separator":"~","start-placeholder":"开始","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd","end-placeholder":"结束"},model:{value:t.filter.registration_time,callback:function(e){t.$set(t.filter,"registration_time",e)},expression:"filter.registration_time"}})],1)],1)],1),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data.data,stripe:""}},[l("el-table-column",{attrs:{prop:"id",label:"ID"}}),l("el-table-column",{attrs:{prop:"title",label:"标题"}}),l("el-table-column",{attrs:{prop:"begin_time",label:"开始时间"}}),l("el-table-column",{attrs:{prop:"end_time",label:"结束时间"}}),l("el-table-column",{attrs:{label:"人数限制"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",[t._v(t._s(0==e.row.limit?"无限制":e.row.limit))])]}}])}),l("el-table-column",{attrs:{prop:"apply_time",label:"活动时间"}}),l("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){t.handleClick(e.row)}}},[t._v("详细")]),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){t.checkApply(e.row)}}},[t._v("报名审核")]),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){t.del(e)}}},[t._v("删除")])]}}])})],1),l("div",{staticClass:"pagination"},[l("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next,jumper","page-count":t.data.last_page},on:{"current-change":t.loadData}})],1)],1)},a=[],s=l("3f4c"),r={name:"activity",data:function(){return{dialog:{dialogVisible:!1,content:""},statusOptions:[{label:"禁用",value:-1},{label:"全部",value:1},{label:"预告期",value:2},{label:"报名中",value:3},{label:"报名结束",value:4},{label:"活动结束",value:5}],filter:{id:null,status:null,title:null,min_register:null,max_register:null,jump_page:null,active_begin:null,active_end:null,active_time:null},data:{}}},mounted:function(){this.loadData(1)},methods:{ref:function(){this.filter={id:null,status:null,title:null,min_register:null,max_register:null,jump_page:null,active_begin:null,active_end:null,active_time:null},this.loadData(1)},loadData:function(t){var e=this;this.filter.jump_page=t,null!=this.filter.active_time&&2===this.filter.active_time.length?(this.filter.active_begin=this.filter.active_time[0],this.filter.active_end=this.filter.active_time[1]):(this.filter.active_begin=null,this.filter.active_end=null),null!=this.filter.registration_time&&2===this.filter.registration_time.length?(this.filter.registration_begin=this.filter.registration_time[0],this.filter.registration_end=this.filter.registration_time[1]):(this.filter.registration_begin=null,this.filter.registration_end=null),null==this.filter.min_register?this.filter.min_register=null:this.filter.min_register=parseInt(this.filter.min_register),null==this.filter.max_register?this.filter.max_register=null:this.filter.max_register=parseInt(this.filter.max_register),s["a"].entry(this.filter,function(t){e.data=t.data.data})},filterOpen:function(){this.filter.isOpen=!this.filter.isOpen},add:function(){this.$router.push({name:"activityAdd"})},del:function(t){var e=this,l=this;this.$confirm("此操作将永久删除"+t.row.title+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s["a"].delete({id:t.row.id},function(){e.$message.success("删除成功"),l.loadData(1)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},checkApply:function(t){this.$router.push({name:"activityApply",query:{id:t.id}})},handleClick:function(t){this.$router.push({name:"activityAdd",query:{id:t.id}})}}},n=r,c=(l("ef5c"),l("2877")),u=Object(c["a"])(n,i,a,!1,null,"235b383d",null);u.options.__file="activeList.vue";e["default"]=u.exports},ef5c:function(t,e,l){"use strict";var i=l("4a92"),a=l.n(i);a.a}}]);
//# sourceMappingURL=chunk-70a1.929eafeb.js.map