(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73e9"],{"36ef":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pages"},[i("H3",[e._v("基础信息")]),i("div",{staticClass:"line"}),i("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"服务名称"}},[i("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),i("el-form-item",{attrs:{label:"服务价格"}},[i("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),i("el-form-item",{attrs:{label:"联系外链地址"}},[i("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),i("el-form-item",{attrs:{label:"选择分类"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.category_id,callback:function(t){e.$set(e.form,"category_id",t)},expression:"form.category_id"}},e._l(e.options,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),i("el-form-item",{attrs:{label:"封面图"}},[i("image-select",{attrs:{url:e.form.picture},model:{value:e.img,callback:function(t){e.img=t},expression:"img"}})],1),i("el-form-item",{attrs:{label:"服务简介"}},[i("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:5,placeholder:"请输入"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),i("el-form-item",{attrs:{label:"状态"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[i("el-option",{attrs:{label:"启用",value:1}}),i("el-option",{attrs:{label:"不启用",value:0}})],1)],1),i("el-form-item",{attrs:{label:"推荐"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.recommend,callback:function(t){e.$set(e.form,"recommend",t)},expression:"form.recommend"}},[i("el-option",{attrs:{label:"推荐",value:1}}),i("el-option",{attrs:{label:"不推荐",value:0}})],1)],1),i("div",[i("rich-view",{model:{value:e.form.rich_text,callback:function(t){e.$set(e.form,"rich_text",t)},expression:"form.rich_text"}})],1),i("el-form-item",{staticStyle:{"margin-top":"100px"}},[i("el-button",{staticStyle:{"margin-left":"50px"},attrs:{type:"primary",loading:e.isLoading},on:{click:e.onSubmit}},[e._v("提交\n            ")]),i("el-button",{on:{click:e.back}},[e._v("返回")])],1)],1)],1)},s=[],r=(i("7f7f"),i("4efe")),l={data:function(){return{imageUrl:"",form:{id:null,name:null,description:null,price:null,recommend:null,status:null,address:null,rich_text:null,category_id:null},img:null,isNoEdit:!0,isLoading:!1,options:[]}},mounted:function(){this.init()},methods:{init:function(){void 0!==this.$route.query.id?(this.isNoEdit=!0,this.loadData()):this.isNoEdit=!1,this.loadCategory()},loadData:function(){var e=this;r["a"].detail({id:this.$route.query.id},function(t){e.form=t.data.data})},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},loadCategory:function(){var e=this;r["a"].spinner(function(t){e.options=t.data.data})},edit:function(){this.isNoEdit=!1},onSubmit:function(){var e=this;if(r["a"].isStrValid(this.form.name))if(r["a"].isStrValid(this.form.description))if(r["a"].isStrValid(this.form.price))if(r["a"].isStrValid(this.form.status))if(r["a"].isStrValid(this.form.address))if(r["a"].isStrValid(this.form.rich_text))if(r["a"].isStrValid(this.form.category_id))if(null!=this.img||null!=this.form.picture){var t=r["a"].objToFormData(this.form);this.isLoading=!0,t.append("picture",this.img),r["a"].save(t,function(){e.isLoading=!1,e.$message.success("保存成功!"),e.$router.push({name:"service"}),e.$route.meta.keepAlive=!1},function(){e.isLoading=!1})}else this.$message.error("请选择图片");else this.$message.error("请选择分类");else this.$message.error("请输入富文本详情");else this.$message.error("请输入外链地址");else this.$message.error("请选择状态");else this.$message.error("请输入价格");else this.$message.error("请输入简介");else this.$message.error("请输入名称")},back:function(){this.$router.back()}}},o=l,n=(i("688d"),i("2877")),c=Object(n["a"])(o,a,s,!1,null,"4a026982",null);c.options.__file="resourcesAdd.vue";t["default"]=c.exports},"4efe":function(e,t,i){"use strict";i.d(t,"a",function(){return u});var a=i("c665"),s=i("dc0a"),r=i("aa9a"),l=i("d328"),o=i("11d9"),n=i("b8d7"),c=i("4a2d"),u=function(e){function t(){return Object(a["a"])(this,t),Object(l["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(r["a"])(t,null,[{key:"index",value:function(e,i,a){Object(n["a"])(Object(o["a"])(t),"request",this).call(this,this.uri()+"entry",i,a,e)}},{key:"detail",value:function(e,i,a){Object(n["a"])(Object(o["a"])(t),"request",this).call(this,this.uri()+"detail",i,a,e)}},{key:"save",value:function(e,i,a){Object(n["a"])(Object(o["a"])(t),"request",this).call(this,this.uri()+"save",i,a,e)}},{key:"delete",value:function(e,i,a){Object(n["a"])(Object(o["a"])(t),"request",this).call(this,this.uri()+"delete",i,a,e)}},{key:"spinner",value:function(e,i){Object(n["a"])(Object(o["a"])(t),"request",this).call(this,this.uri()+"spinner",e,i)}},{key:"uri",value:function(){return Object(n["a"])(Object(o["a"])(t),"url",this).call(this)+"service/"}}]),Object(s["a"])(t,e),t}(c["a"])},"688d":function(e,t,i){"use strict";var a=i("fad5"),s=i.n(a);s.a},fad5:function(e,t,i){}}]);
//# sourceMappingURL=chunk-73e9.0602633b.js.map