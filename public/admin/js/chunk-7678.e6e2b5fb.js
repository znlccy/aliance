(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7678"],{"07c7":function(t,a,e){"use strict";e.d(a,"a",function(){return d});var l=e("c665"),s=e("dc0a"),i=e("aa9a"),n=e("d328"),c=e("11d9"),r=e("b8d7"),u=e("4a2d"),d=function(t){function a(){return Object(l["a"])(this,a),Object(n["a"])(this,Object(c["a"])(a).apply(this,arguments))}return Object(i["a"])(a,null,[{key:"index",value:function(t,e,l){Object(r["a"])(Object(c["a"])(a),"request",this).call(this,this.uri()+"entry",e,l,t)}},{key:"save",value:function(t,e,l){Object(r["a"])(Object(c["a"])(a),"request",this).call(this,this.uri()+"save",e,l,t)}},{key:"detail",value:function(t,e,l){Object(r["a"])(Object(c["a"])(a),"request",this).call(this,this.uri()+"detail",e,l,t)}},{key:"delete",value:function(t,e,l){Object(r["a"])(Object(c["a"])(a),"request",this).call(this,this.uri()+"delete",e,l,t)}},{key:"uri",value:function(){return Object(r["a"])(Object(c["a"])(a),"url",this).call(this)+"column/"}}]),Object(s["a"])(a,t),a}(u["a"])},3534:function(t,a,e){"use strict";e.r(a);var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page"},[e("div",[e("el-row",{staticClass:"header"},[e("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v("规则编号:")]),e("el-col",{attrs:{span:4}},[e("el-input",{staticClass:"filter-match",attrs:{placeholder:"请输入"},model:{value:t.data.id,callback:function(a){t.$set(t.data,"id",a)},expression:"data.id"}})],1),e("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v(" 状态:")]),e("el-col",{attrs:{span:4}},[e("el-select",{staticClass:"filter-match",attrs:{placeholder:"请选择"},model:{value:t.data.status,callback:function(a){t.$set(t.data,"status",a)},expression:"data.status"}},t._l(t.statusOptions,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),e("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v("动态标题:")]),e("el-col",{attrs:{span:4}},[e("el-input",{staticClass:"filter-match",attrs:{placeholder:"请输入"},model:{value:t.data.title,callback:function(a){t.$set(t.data,"title",a)},expression:"data.title"}})],1),e("el-col",{staticClass:"filter-btn",attrs:{span:6}},[e("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(a){t.loadData(1)}}},[t._v("查询")]),e("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(a){t.ref()}}},[t._v("重置")]),e("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.add}},[t._v("新建")])],1)],1),e("el-row",{staticClass:"filter"},[e("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v(" 栏目:")]),e("el-col",{attrs:{span:4}},[e("el-select",{staticClass:"filter-match",attrs:{placeholder:"请选择"},model:{value:t.data.column_id,callback:function(a){t.$set(t.data,"column_id",a)},expression:"data.column_id"}},t._l(t.columns,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),e("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v(" 创建日期:")]),e("el-col",{attrs:{span:4}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetimerange","range-separator":"~","start-placeholder":"开始","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd","end-placeholder":"结束"},model:{value:t.data.create_time,callback:function(a){t.$set(t.data,"create_time",a)},expression:"data.create_time"}})],1),e("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v(" 发布日期:")]),e("el-col",{attrs:{span:4}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetimerange","range-separator":"~","start-placeholder":"开始","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd","end-placeholder":"结束"},model:{value:t.data.publish_time,callback:function(a){t.$set(t.data,"publish_time",a)},expression:"data.publish_time"}})],1),e("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v(" 更新日期:")]),e("el-col",{attrs:{span:4}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetimerange","range-separator":"~","start-placeholder":"开始","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd","end-placeholder":"结束"},model:{value:t.data.update_time,callback:function(a){t.$set(t.data,"update_time",a)},expression:"data.update_time"}})],1)],1),e("el-row",{staticClass:"filter"},[e("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v(" 推荐:")]),e("el-col",{attrs:{span:4}},[e("el-select",{staticClass:"filter-match",attrs:{placeholder:"请选择"},model:{value:t.data.recommend,callback:function(a){t.$set(t.data,"recommend",a)},expression:"data.recommend"}},[e("el-option",{attrs:{value:1,label:"推荐"}}),e("el-option",{attrs:{value:0,label:"不推荐"}})],1)],1),e("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v("发布人:")]),e("el-col",{attrs:{span:4}},[e("el-input",{staticClass:"filter-match",attrs:{placeholder:"请输入"},model:{value:t.data.publisher,callback:function(a){t.$set(t.data,"publisher",a)},expression:"data.publisher"}})],1),e("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v("动态简介:")]),e("el-col",{attrs:{span:4}},[e("el-input",{staticClass:"filter-match",attrs:{placeholder:"请输入"},model:{value:t.data.description,callback:function(a){t.$set(t.data,"description",a)},expression:"data.description"}})],1)],1)],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.res.data,stripe:""}},[e("el-table-column",{attrs:{prop:"title",label:"标题"}}),e("el-table-column",{attrs:{prop:"publisher",label:"发布人"}}),e("el-table-column",{attrs:{prop:"publish_time",label:"发布时间"}}),e("el-table-column",{attrs:{prop:"update_time",label:"更新时间"}}),e("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(1===a.row.status?"启用":"未启用"))])]}}])}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){t.handleClick(a.row)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){t.del(a)}}},[t._v("删除")])]}}])})],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next,jumper",total:t.res.last_page},on:{"current-change":t.loadData}})],1)],1)},s=[],i=e("51f0"),n=e("07c7"),c={name:"dynamic",data:function(){return{data:{id:null,column_id:null,title:null,description:null,create_start:null,create_end:null,update_start:null,update_end:null,publish_start:null,publish_end:null,recommend:null,status:null,publisher:null,create_time:null,update_time:null,publish_time:null},columns:[],statusOptions:[{label:"可用",value:1},{label:"不可用",value:0}],res:{}}},mounted:function(){this.loadData(1),this.loadColumn()},methods:{ref:function(){this.data={id:null,column_id:null,title:null,description:null,create_start:null,create_end:null,update_start:null,update_end:null,publish_start:null,publish_end:null,recommend:null,status:null,publisher:null,create_time:null,update_time:null,publish_time:null},this.loadData(1)},loadColumn:function(){var t=this;n["a"].index({page_size:999},function(a){t.columns=a.data.data.data})},loadData:function(t){var a=this;this.data.jump_page=t,null!=this.data.create_time&&2===this.data.create_time.length?(this.data.create_start=this.data.create_time[0],this.data.create_end=this.data.create_time[1]):(this.data.create_start=null,this.data.create_end=null),null!=this.data.update_time&&2===this.data.update_time.length?(this.data.update_start=this.data.update_time[0],this.data.update_end=this.data.update_time[1]):(this.data.update_start=null,this.data.update_end=null),null!=this.data.publish_time&&2===this.data.publish_time.length?(this.data.publish_start=this.data.publish_time[0],this.data.publish_end=this.data.publish_time[1]):(this.data.publish_start=null,this.data.publish_end=null),i["a"].list(this.data,function(t){a.res=t.data.data})},filterOpen:function(){this.data.isOpen=!this.data.isOpen},add:function(){this.$router.push({name:"dynamicAdd"})},handleClick:function(t){this.$router.push({name:"dynamicAdd",query:{id:t.id}})},del:function(t){var a=this,e=this;this.$confirm("确认删除"+t.row.title+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i["a"].delete({id:t.row.id},function(){a.$message.success("删除成功"),e.loadData(1)})})}}},r=c,u=(e("46e4"),e("2877")),d=Object(u["a"])(r,l,s,!1,null,"529c24b0",null);d.options.__file="list.vue";a["default"]=d.exports},"46e4":function(t,a,e){"use strict";var l=e("79b0"),s=e.n(l);s.a},"51f0":function(t,a,e){"use strict";e.d(a,"a",function(){return d});var l=e("c665"),s=e("dc0a"),i=e("aa9a"),n=e("d328"),c=e("11d9"),r=e("b8d7"),u=e("4a2d"),d=function(t){function a(){return Object(l["a"])(this,a),Object(n["a"])(this,Object(c["a"])(a).apply(this,arguments))}return Object(i["a"])(a,null,[{key:"save",value:function(t,e,l){Object(r["a"])(Object(c["a"])(a),"request",this).call(this,this.uri()+"save",e,l,t)}},{key:"list",value:function(t,e,l){Object(r["a"])(Object(c["a"])(a),"request",this).call(this,this.uri()+"entry",e,l,t)}},{key:"detail",value:function(t,e,l){Object(r["a"])(Object(c["a"])(a),"request",this).call(this,this.uri()+"detail",e,l,t)}},{key:"delete",value:function(t,e,l){Object(r["a"])(Object(c["a"])(a),"request",this).call(this,this.uri()+"delete",e,l,t)}},{key:"uri",value:function(){return Object(r["a"])(Object(c["a"])(a),"url",this).call(this)+"dynamic/"}}]),Object(s["a"])(a,t),a}(u["a"])},"79b0":function(t,a,e){}}]);
//# sourceMappingURL=chunk-7678.e6e2b5fb.js.map