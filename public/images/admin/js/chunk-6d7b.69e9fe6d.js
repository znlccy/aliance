(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d7b"],{"27cd":function(t,e,a){"use strict";a.r(e);var l,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("el-row",{staticClass:"header"},[a("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v("规则编号:")]),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"filter-match",attrs:{placeholder:"请输入"},model:{value:t.data.id,callback:function(e){t.$set(t.data,"id",e)},expression:"data.id"}})],1),a("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v(" 审核状态:")]),a("el-col",{attrs:{span:4}},[a("el-select",{staticClass:"filter-match",attrs:{placeholder:"请选择"},model:{value:t.data.auditor,callback:function(e){t.$set(t.data,"auditor",e)},expression:"data.auditor"}},t._l(t.statusOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),a("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v(" 创建日期:")]),a("el-col",{attrs:{span:4}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetimerange","range-separator":"~","start-placeholder":"开始","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd","end-placeholder":"结束"},model:{value:t.data.create_time,callback:function(e){t.$set(t.data,"create_time",e)},expression:"data.create_time"}})],1),a("el-col",{staticClass:"filter-btn",attrs:{span:6}},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(e){t.loadData(1)}}},[t._v("查询")]),a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){t.ref()}}},[t._v("重置")]),a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.add}},[t._v("新建")])],1)],1),a("el-row",{staticClass:"filter"},[a("el-col",{staticClass:"filter-label",attrs:{span:2}},[t._v(" 登录日期:")]),a("el-col",{attrs:{span:4}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetimerange","range-separator":"~","start-placeholder":"开始","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd","end-placeholder":"结束"},model:{value:t.data.login_time,callback:function(e){t.$set(t.data,"login_time",e)},expression:"data.login_time"}})],1),a("el-col",{staticClass:"filter-btn",attrs:{span:6}},[a("el-button",{attrs:{icon:"",type:"primary"},on:{click:function(e){t.reviewAll()}}},[t._v("批量审核")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.res.data,stripe:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",sortable:"",label:"ID"}}),a("el-table-column",{attrs:{prop:"mobile",label:"账号"}}),a("el-table-column",{attrs:{sortable:"",prop:"auditor",label:"审核状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0===e.row.auditor?"未提交":1===e.row.auditor?"未审核":2===e.row.auditor?"通过审核":"拒绝"))])]}}])}),a("el-table-column",{attrs:{sortable:"",prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1===e.row.status?"正常":"禁用"))])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"login_time",label:"最后登录时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClick(e.row)}}},[t._v("编辑")]),1===e.row.auditor?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.access(e)}}},[t._v("通过审核\n                ")]):t._e(),1===e.row.auditor?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.refuse(e)}}},[t._v("拒绝\n                ")]):t._e()]}}])})],1),a("div",{staticClass:"pagination "},[a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next,jumper","page-count":t.res.last_page},on:{"current-change":t.loadData}})],1)],1)},i=[],s=a("a322"),r=(a("ac6a"),a("6804")),o={data:function(){return{data:{id:null,status:null,jump_page:null,auditor:null,create_start:null,create_end:null,create_time:null,login_start:null,login_end:null,login_time:null},statusOptions:[{label:"未提交",value:0},{label:"待审核",value:1},{label:"通过审核",value:2},{label:"已拒绝",value:3}],res:{},selectItems:[]}},mounted:function(){this.loadData(1)},methods:(l={ref:function(){this.data={id:null,status:null,jump_page:null,create_start:null,create_end:null,create_time:null,login_start:null,login_end:null,login_time:null},this.loadData(1)},handleSelectionChange:function(t){console.log(t),this.selectItems=t},loadData:function(t){var e=this;null!=this.data.create_time&&2===this.data.create_time.length?(this.data.create_start=this.data.create_time[0],this.data.create_end=this.data.create_time[1]):(this.data.create_start=null,this.data.create_end=null),null!=this.data.login_time&&2===this.data.login_time.length?(this.data.login_start=this.data.login_time[0],this.data.login_end=this.data.login_time[1]):(this.data.login_start=null,this.data.login_end=null),this.data.jump_page=t,r["a"].index(this.data,function(t){e.res=t.data.data,console.log(e.res)})},add:function(){this.$router.push({name:"reviewAdd"})}},Object(s["a"])(l,"ref",function(){this.data={id:null,status:null,jump_page:null},this.loadData(1)}),Object(s["a"])(l,"refuse",function(t){var e=this;this.$prompt("请输入拒绝"+t.row.mobile+"理由","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(a){var l=a.value;e.review({id:[t.row.id],type_id:0,reason:l})}).catch(function(){})}),Object(s["a"])(l,"access",function(t){this.review({id:[t.row.id],type_id:1})}),Object(s["a"])(l,"review",function(t){var e=this;r["a"].auditor(t,function(){e.$message.success("操作成功"),e.loadData(1)})}),Object(s["a"])(l,"reviewAll",function(){if(0!==this.selectItems.length){var t=[];this.selectItems.forEach(function(e){t.push(e.id)}),this.review({id:t,type_id:1})}else this.$message.info("请至少勾选一个条目")}),Object(s["a"])(l,"handleClick",function(t){this.$router.push({name:"reviewAdd",query:{id:t.id}})}),l)},u=o,c=(a("aba3"),a("2877")),d=Object(c["a"])(u,n,i,!1,null,"320d668c",null);d.options.__file="review.vue";e["default"]=d.exports},6804:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var l=a("c665"),n=a("aa9a"),i=a("4a2d"),s=function(){function t(){Object(l["a"])(this,t)}return Object(n["a"])(t,null,[{key:"index",value:function(t,e,a){i["a"].request(i["a"].url()+"user2/wait_auditor_entry",e,a,t)}},{key:"save",value:function(t,e,a){i["a"].request(this.uri()+"save",e,a,t)}},{key:"detail",value:function(t,e,a){i["a"].request(this.uri()+"introduce",e,a,t)}},{key:"auditor",value:function(t,e,a){i["a"].request(this.uri()+"auditor",e,a,t)}},{key:"uri",value:function(){return i["a"].url()+"user/"}}]),t}()},a322:function(t,e,a){"use strict";function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",function(){return l})},aba3:function(t,e,a){"use strict";var l=a("f298"),n=a.n(l);n.a},f298:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6d7b.69e9fe6d.js.map