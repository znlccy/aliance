(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2af8"],{"47a5":function(e,t,a){},a0f3:function(e,t,a){"use strict";var s=a("47a5"),i=a.n(s);i.a},a335:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("H3",[e._v("基础信息")]),a("div",{staticClass:"line"}),a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-row",[a("el-form-item",{attrs:{label:"手机号",prop:"account"}},[a("el-input",{attrs:{disabled:!e.accountIsEdit,placeholder:"请输入"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[a("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"请输入"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"pwd2"}},[a("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"请输入"},model:{value:e.form.confirm_pass,callback:function(t){e.$set(e.form,"confirm_pass",t)},expression:"form.confirm_pass"}})],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"真实姓名"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.real_name,callback:function(t){e.$set(e.form,"real_name",t)},expression:"form.real_name"}})],1),a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{staticStyle:{width:"500px"},attrs:{multiple:"",placeholder:"请选择"},model:{value:e.selectRoles,callback:function(t){e.selectRoles=t},expression:"selectRoles"}},e._l(e.adminRoles,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"启用",value:1}}),a("el-option",{attrs:{label:"不启用",value:0}})],1)],1)],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showDetails,expression:"showDetails"}]},[a("el-form-item",{attrs:{label:"创建时间"}},[e._v("\n                "+e._s(e.form.create_time)+"\n            ")]),a("el-form-item",{attrs:{label:"最后登录时间"}},[e._v("\n                "+e._s(e.form.login_time)+"\n            ")]),a("el-form-item",{attrs:{label:"最后登录Ip"}},[e._v("\n                "+e._s(e.form.login_ip)+"\n            ")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.isLoading},on:{click:e.onSubmit}},[e._v("提交")]),a("el-button",{on:{click:e.back}},[e._v("返回")])],1)],1),a("div")],1)},i=[],o=(a("ac6a"),a("b550")),l={name:"add",data:function(){return{form:{},isLoading:!1,isNoEdit:!0,accountIsEdit:!1,showDetails:!1,adminRoles:[],selectRoles:[]}},mounted:function(){void 0!==this.$route.query.id?(this.isNoEdit=!0,this.accountIsEdit=!1,this.showDetails=!0,this.loadData()):(this.isNoEdit=!1,this.accountIsEdit=!0),this.loadRoles()},methods:{onSubmit:function(){var e=this;this.form.role_id=this.selectRoles,this.isLoading=!0,o["a"].assignUserRole(this.form,function(t){e.isLoading=!1,e.$message.success(t.data.message),e.$router.push({name:"admin"}),e.$route.meta.keepAlive=!1},function(){e.isLoading=!1})},back:function(){this.$router.back()},edit:function(){this.isNoEdit=!1},loadData:function(){var e=this;o["a"].detail({id:this.$route.query.id},function(t){e.form=t.data.data,e.form.password=null,e.setSelect(),console.log(e.form)})},setSelect:function(){var e=this;null!=this.form.role&&this.form.role.forEach(function(t){e.selectRoles.push(t.id)})},loadRoles:function(){var e=this;o["a"].spinner(function(t){e.adminRoles=t.data.data})}}},r=l,n=(a("a0f3"),a("2877")),c=Object(n["a"])(r,s,i,!1,null,"c0bdcf60",null);c.options.__file="userAdd.vue";t["default"]=c.exports},b550:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var s=a("c665"),i=a("dc0a"),o=a("aa9a"),l=a("d328"),r=a("11d9"),n=a("b8d7"),c=a("4a2d"),u=function(e){function t(){return Object(s["a"])(this,t),Object(l["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(o["a"])(t,null,[{key:"adminList",value:function(e,a,s){Object(n["a"])(Object(r["a"])(t),"request",this).call(this,this.uri()+"entry",a,s,e)}},{key:"create",value:function(e,a,s){Object(n["a"])(Object(r["a"])(t),"request",this).call(this,this.uri()+"create",a,s,e)}},{key:"detail",value:function(e,a,s){Object(n["a"])(Object(r["a"])(t),"request",this).call(this,this.uri()+"detail",a,s,e)}},{key:"spinner",value:function(e,a){Object(n["a"])(Object(r["a"])(t),"request",this).call(this,this.uri()+"spinner",e,a)}},{key:"assignUserRole",value:function(e,a,s){Object(n["a"])(Object(r["a"])(t),"request",this).call(this,this.uri()+"assign_user_role",a,s,e)}},{key:"pwd",value:function(e,a,s){Object(n["a"])(Object(r["a"])(t),"request",this).call(this,this.uri()+"change_password",a,s,e)}},{key:"info",value:function(e,a){Object(n["a"])(Object(r["a"])(t),"request",this).call(this,this.uri()+"info",e,a)}},{key:"uri",value:function(){return Object(n["a"])(Object(r["a"])(t),"url",this).call(this)+"admin/"}}]),Object(i["a"])(t,e),t}(c["a"])}}]);
//# sourceMappingURL=chunk-2af8.2f577d19.js.map